CREATE TABLE `logging_event` (
  `event_id` bigint NOT NULL AUTO_INCREMENT,
  `timestmp` TIMESTAMP NOT NULL,					-- 로그 발생 시간
  `formatted_message` text DEFAULT NULL,		-- 로그 메시지
  `logger_name` varchar(255) NOT NULL,			-- 로거 이름
  `level_string` varchar(10) NOT NULL,			-- 로그 레벨 (INFO, DEBUG 등)
  `thread_name` varchar(255) DEFAULT NULL,		-- 실행 스레드 이름
  `reference_flag` smallint DEFAULT NULL,		-- 참조 플래그
  `arg0` varchar(255) DEFAULT NULL,				-- 추가 메시지 매핑 0
  `arg1` varchar(255) DEFAULT NULL,				-- 추가 메시지 매핑 1
  `arg2` varchar(255) DEFAULT NULL,				-- 추가 메시지 매핑 2
  `arg3` varchar(255) DEFAULT NULL,				-- 추가 메시지 매핑 3
  `caller_filename` varchar(255) DEFAULT NULL,	-- 호출 파일 이름
  `caller_class` varchar(255) DEFAULT NULL,		-- 호출 클래스 이름
  `caller_method` varchar(255) DEFAULT NULL,	-- 호출 메소드 이름
  `caller_line` char(4) DEFAULT NULL,			-- 호출 라인
  `user_id` varchar(255) DEFAULT NULL,			-- user ID
  `trace_id` varchar(255) DEFAULT NULL,			-- trace ID
  `ip_address` varchar(255) DEFAULT NULL,		-- IP address
  `device` varchar(255) DEFAULT NULL,			-- device
  `execute_result` varchar(255) DEFAULT NULL, 		-- 실행 시간 / 에러 번호
  PRIMARY KEY (`event_id`)
);

create table logging_slow (
	`event_id` bigint NOT NULL AUTO_INCREMENT,
	`timestmp` TIMESTAMP NOT NULL,
	`caller_class` varchar(255) DEFAULT NULL,
	`caller_method` varchar(255) DEFAULT NULL,
	`query` varchar(255) DEFAULT NULL, 			-- query문 저장될 컬럼
	`uri` varchar(255) DEFAULT NULL, 			-- uri 저장될 컬럼
	`user_id` varchar(255) DEFAULT NULL,
	`trace_id` varchar(255) DEFAULT NULL,
	`ip_address` varchar(255) DEFAULT NULL,
	`device` varchar(255) DEFAULT NULL,
	`execute_result` bigint DEFAULT null,
	PRIMARY KEY (`event_id`)
);

CREATE TABLE logging_error (
    error_id SERIAL PRIMARY KEY,
    timestmp TIMESTAMP NOT NULL,
    user_id VARCHAR(255) DEFAULT NULL,
    trace_id VARCHAR(255) DEFAULT NULL,
    ip_address VARCHAR(255) DEFAULT NULL,
    device VARCHAR(255) DEFAULT NULL,
    caller_class VARCHAR(255) DEFAULT NULL,
    caller_method VARCHAR(255) DEFAULT NULL,
    query VARCHAR(255) DEFAULT NULL,
    uri VARCHAR(255) DEFAULT NULL,
    execute_result VARCHAR(255) DEFAULT NULL
);

CREATE TABLE `transfer_details` (
  `transfer_idx` int NOT NULL AUTO_INCREMENT,
  `from_account` varchar(30) DEFAULT NULL,
  `to_account` varchar(30) DEFAULT NULL,
  `money` bigint DEFAULT NULL,
  PRIMARY KEY (`transfer_idx`)
);
